<!doctype html>
<html>
	<head>
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
		<link rel="stylesheet" href="/main.css">

		<title>Todo Ractive</title>
	</head>
	<body>
		<section class="container">
			<h1>Todo MVC</h1>
			<div id="root"></div>
		</section>


		<script type="text/html" id="tmpl-app">
			<table class="table">
				<thead>
					<tr>
						<th class="col-xs-1"></th>
						<th class="col-xs-7">Task</th>
						<th class="col-xs-4">Actions</th>
					</tr>
				</thead>
				<tbody>
					{{#each todos:i}}
					<tr>
						<td>
							<input
								type="checkbox" checked="{{ this.completed }}"
								on-change="completed-changed:{{ this }}">
						</td>
						<td>
							{{#if this.isEditing }}
								<input type="text" value="{{ this.newTask }}">
							{{else}}
								<p class="form-control-static">{{ this.task }}</p>
							{{/if}}
						</td>
						<td>
							{{#if this.isEditing }}
								<button
									class="btn btn-primary"
									on-click="save-edit:{{ i }},{{ this }}">Save</button>
								<button
									class="btn btn-default"
									on-click="cancel-edit:{{ i }}">Cancel</button>
							{{else}}
								<button
									class="btn btn-primary"
									on-click="begin-edit:{{ i }},{{ this.task }}">Edit</button>
							{{/if}}
						</td>
					</tr>
					{{/each}}
				</tbody>
			<table>
		</script>

		<script src='http://cdn.ractivejs.org/latest/ractive.js'></script>
		<script src='https://rawgit.com/github/fetch/master/fetch.js'></script>
		<script src="/main.js"></script>
	</body>
</html>
